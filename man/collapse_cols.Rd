% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/etl_utils.R
\name{collapse_cols}
\alias{collapse_cols}
\title{Collapse Specified Columns into List-Columns by Group}
\usage{
collapse_cols(df, cols)
}
\arguments{
\item{df}{A data frame.}

\item{cols}{A character vector of column names to collapse into list-columns.}
}
\value{
A data frame grouped by the non-collapsed columns, with the specified columns collapsed into list-columns.
}
\description{
Groups a data frame by all columns except those specified, and collapses the specified columns into list-columns within each group.
}
\details{
The function groups the data frame by all columns except those listed in \code{cols}. For each group, it collects the values of the specified columns into lists, resulting in list-columns. This is useful for aggregating or nesting data by group, while retaining all values from the specified columns.

The function uses \code{group_by_at} and \code{across} from the \strong{dplyr} package.
}
\examples{
library(dplyr)
df <- data.frame(
  id = c(1, 1, 2, 2),
  value1 = c('a', 'b', 'c', 'd'),
  value2 = 1:4
)
collapse_cols(df, c('value1', 'value2'))
# Returns a data frame with one row per id, and value1/value2 as list-columns

}
