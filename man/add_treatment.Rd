% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/fit_cultivar_parameters.R
\name{add_treatment}
\alias{add_treatment}
\title{Add a New Treatment Row to the treatment matrix of a DSSAT managemenet table list}
\usage{
add_treatment(xtables, args = list())
}
\arguments{
\item{xtables}{A named list of tables (e.g., data frames), including a treatment table (name starting with "TREATMENT").}

\item{args}{A named list of column values to update in the new treatment row.}
}
\value{
The input list with the updated treatment table.
}
\description{
Adds a new treatment to the treatment table within a DSSAT management tale list,
using the last row as a template and updating specified columns.
}
\details{
The function locates the treatment table in \code{xtables} (the first table whose name starts with "TREATMENT"), copies its last row as a template, and updates the primary key (first column) to a new unique value. Columns specified in \code{args} are updated in the new row. The new row is appended to the treatment table, which is then converted to a DSSAT table using \code{as_DSSAT_tbl}.

If a column specified in \code{args} does not exist in the treatment table, a warning is issued.
}
\examples{
\dontrun{
xtables <- add_treatment(xtables, args = list(crop = "maize", fertilizer = "NPK"))
}

}
