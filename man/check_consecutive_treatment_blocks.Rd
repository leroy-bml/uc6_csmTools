% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/identify_exp_design.R
\name{check_consecutive_treatment_blocks}
\alias{check_consecutive_treatment_blocks}
\title{Check Consistency of Plot-Treatment Associations in Consecutive Year Blocks}
\usage{
check_consecutive_treatment_blocks(
  df,
  col_name,
  plot_col,
  year_col,
  min_block_length = 2
)
}
\arguments{
\item{df}{A data frame containing the data to be checked.}

\item{col_name}{The name of the treatment column (as a string).}

\item{plot_col}{The name of the plot column (as a string).}

\item{year_col}{The name of the year column (as a string).}

\item{min_block_length}{Integer. The minimum number of consecutive years required for a block to be considered valid (default: 2).}
}
\value{
Logical. \code{TRUE} if all blocks of consecutive years have consistent plot-treatment associations and meet the minimum block length, \code{FALSE} otherwise.
}
\description{
Determines whether plot-treatment associations are conserved within blocks of consecutive years in a data frame.
A new block is started whenever there is a change in treatment allocation or a gap in the sequence of years.
The function returns \code{TRUE} only if all blocks have consistent plot-treatment associations and each block is at least \code{min_block_length} years long.
}
\details{
The function sorts the data by year, splits it into blocks of consecutive years with consistent plot-treatment associations, and checks both the consistency and the minimum length of each block.
}
\examples{
# Example usage:
# df <- data.frame(
#   Plot = c(1,1,2,2,1,1,2,2),
#   Year = c(2000,2001,2000,2001,2003,2004,2003,2004),
#   Treatment = c('A','A','B','B','C','C','D','D')
# )
# check_consecutive_treatment_blocks(df, col_name = "Treatment", plot_col = "Plot", year_col = "Year", min_block_length = 2)

}
