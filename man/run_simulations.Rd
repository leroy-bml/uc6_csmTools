% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/run_simulations.R
\name{run_simulations}
\alias{run_simulations}
\title{Run DSSAT simulations}
\usage{
run_simulations(
  filex_path,
  treatments,
  framework = "dssat",
  dssat_dir = NULL,
  sim_dir = NULL,
  args = list()
)
}
\arguments{
\item{filex_path}{(character) Path to the DSSAT experiment file (file X).}

\item{treatments}{(character) Vector of treatment numbers to simulate, as defined in file X.}

\item{framework}{(character) Simulation framework to use. Currently only supports "dssat".}

\item{dssat_dir}{(character) Path to DSSAT installation directory. If \code{NULL} (default), attempts to:
\enumerate{
\item Use the \code{DSSAT_CSM} environment variable, or
\item Default to \code{"C:/DSSAT48"} on Windows or \verb{~/dssat/} on Unix.
}}

\item{sim_dir}{(character) Directory for simulation files and outputs. If \code{NULL} (default), defaults to:
\enumerate{
\item \code{dssat_dir} if specified, or
\item \code{"C:/DSSAT48"} on Windows or \verb{~/dssat/} on Unix.
}}

\item{args}{(list) Named list of additional simulation parameters to override defaults.
Supported parameters: \code{RP}, \code{SQ}, \code{OP}, \code{CO} (each should be a vector matching \code{treatments} length).}
}
\value{
A named list of simulation outputs, where:
\describe{
\item{Names}{Treatment identifiers (without .OUT extension)}
\item{Values}{Data frames containing simulation output for each treatment}
}
}
\description{
Executes DSSAT simulations for specified treatments and returns output data.
Automatically handles DSSAT executable location, batch file creation, and output collection.
}
\details{
The function performs the following steps:
\enumerate{
\item Locates the DSSAT executable and sets up directory paths
\item Reads the experiment (.WHX) and treatment (.WHA) files
\item Creates a batch file with specified treatments and parameters
\item Executes the simulations in batch mode
\item Collects and returns all output files (.OUT) as a named list
}

Environment variables:
\describe{
\item{DSSAT_CSM}{Path to DSSAT executable (optional)}
}
}
\examples{
\dontrun{
# Basic usage with default DSSAT location
results <- run_simulations(
  filex_path = "path/to/Experiment.WHX",
  treatments = c("T1", "T2", "T3")
)

# With custom parameters
results <- run_simulations(
  filex_path = "path/to/Experiment.WHX",
  treatments = c("T1", "T2"),
  dssat_dir = "D:/DSSAT48",
  sim_dir = "D:/simulations/run1",
  args = list(RP = c(1, 2), SQ = c(0, 1))
)

# Using environment variable
Sys.setenv(DSSAT_CSM = "path/to/DSCSM048.EXE")
results <- run_simulations("Experiment.WHX", c("T1", "T2"))
}

}
