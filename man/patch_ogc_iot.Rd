% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/extract_transform_iot.R
\name{patch_ogc_iot}
\alias{patch_ogc_iot}
\title{Update a Resource on an OGC SensorThings API Endpoint (PATCH)}
\usage{
patch_ogc_iot(
  object = c("Things", "Sensors", "ObservedProperties", "Datastreams", "Observations"),
  object_id,
  url,
  token,
  body
)
}
\arguments{
\item{object}{Character. The type of resource to update. Must be one of \code{c("Things", "Sensors", "ObservedProperties", "Datastreams", "Observations")}.}

\item{object_id}{The unique identifier of the resource to update.}

\item{url}{Character. The base URL of the OGC SensorThings API endpoint (should end with a slash).}

\item{token}{Character. The Bearer token for authentication.}

\item{body}{A list representing the JSON body with the fields to update.}
}
\value{
The response object from the PATCH request (an \code{httr::response} object).
}
\description{
Sends a PATCH request to an OGC SensorThings API endpoint to update a specified resource (e.g., Thing, Sensor, ObservedProperty, Datastream, or Observation) by its ID.
}
\details{
This function constructs the full URL for the resource by appending the resource type (\code{object}) and the resource ID (\code{object_id}) in OData format to the base URL. It converts the \code{body} to JSON and sends a PATCH request to this URL, including the provided Bearer token for authentication.

The function checks that the URL starts with \code{http://} or \code{https://} and stops with an error if not.

The function uses the \strong{httr} package for HTTP requests and the \strong{jsonlite} package for JSON conversion.
}
\examples{
\dontrun{
patch_ogc_iot(
  object = "Things",
  object_id = 123,
  url = "https://example.com/SensorThings/v1.0/",
  token = "your_access_token",
  body = list(name = "Updated Thing Name")
)
}

}
