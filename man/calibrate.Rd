% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/fit_cultivar_parameters.R
\name{calibrate}
\alias{calibrate}
\title{Calibrate DSSAT Cultivar Parameters Using GLUE}
\usage{
calibrate(
  xfile,
  cultivar,
  model = NULL,
  trtno = NULL,
  pars = c("phenology", "growth"),
  method = "glue",
  minbound = list(),
  maxbound = list(),
  calibrate_ecotype = FALSE,
  reps = 3,
  cores = NULL,
  dir_glue = NULL,
  dir_out = NULL,
  dir_dssat = NULL,
  dir_genotype = NULL,
  overwrite = FALSE,
  ...
)
}
\arguments{
\item{xfile}{Character. Path to the DSSAT X-file (experiment file).}

\item{cultivar}{Character. The name of the cultivar to calibrate.}

\item{model}{Character or NULL. The DSSAT model code (e.g., "CER", "APS"). If NULL, inferred from the X-file.}

\item{trtno}{Integer or NULL. Treatment number to use for calibration. If NULL, determined automatically.}

\item{pars}{Character vector. Parameters to calibrate (e.g., \code{c("phenology","growth")}). Default: both.}

\item{method}{Character. Calibration method. Default is \code{"glue"}.}

\item{minbound, }{maxbound Named lists. Minimum and maximum bounds for genetic parameters.}

\item{calibrate_ecotype}{Logical. Whether to calibrate ecotype parameters. Default: FALSE.}

\item{reps}{Integer. Number of GLUE replicates. Default: 3.}

\item{cores}{Integer or NULL. Number of CPU cores to use. Default: half of available.}

\item{dir_glue, }{dir_out, dir_dssat, dir_genotype Character or NULL. Paths to GLUE, output, DSSAT, and genotype directories. If NULL, inferred from DSSAT installation.}

\item{overwrite}{Logical. Whether to overwrite existing files. Default: FALSE.}

\item{...}{Additional arguments passed to internal functions.}
}
\value{
A data frame of the fitted cultivar parameters for the specified cultivar.
}
\description{
Sets up and runs a GLUE-based calibration for DSSAT cultivar parameters, handling file preparation, backup, batch/control file writing, and execution.
}
\details{
The function prepares all required files and directories, backs up originals, sets up batch and control files, and runs the GLUE calibration script. It updates genetic parameter bounds, disables stress treatments as needed, and writes results back to the genotype directory. The function uses several helper functions for file I/O and management.
}
\examples{
\dontrun{
calibrate(
  xfile = "EX001A.WHX",
  cultivar = "Pioneer 123",
  model = "CER",
  reps = 10
)
}

}
