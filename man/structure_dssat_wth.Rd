% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/structure_metadata.R
\name{structure_dssat_wth}
\alias{structure_dssat_wth}
\title{Structure DSSAT Weather Data}
\usage{
structure_dssat_wth(dataset, data_model = "dssat")
}
\arguments{
\item{dataset}{The mapped dataset as a list of data frames.}

\item{data_model}{The target data model (default is "dssat").}
}
\value{
The dataset with weather tables replaced by standardized \code{WTH_DAILY} and \code{WTH_META} data frames.
}
\description{
Consolidates, filters, enriches, and standardizes weather data for a DSSAT dataset.
}
\details{
The function performs the following steps:
\enumerate{
\item \strong{Filters by Growing Season:} It removes daily weather data from outside the years covered by
the experiment's management dates.
\item \strong{Enriches Metadata:} It merges weather and field metadata, using external APIs to fill in missing location and
elevation data.
\item \strong{Calculates Summary Statistics:} It computes the annual average temperature (\code{TAV}) and monthly amplitude (\code{AMP})
required for the weather file header.
\item \strong{Generates Standard IDs:} It creates a DSSAT-compliant weather station ID (\code{INSI}) and updates the linked
\code{FIELDS} table accordingly.
}
}
