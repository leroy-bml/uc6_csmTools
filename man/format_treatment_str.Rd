% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/extract_transform_template.R
\name{format_treatment_str}
\alias{format_treatment_str}
\title{Format ICASA Treatment Matrix and Related Tables in a List}
\usage{
format_treatment_str(ls)
}
\arguments{
\item{ls}{A named list of data frames, typically representing sections of an experimental template, including a "TREATMENTS" matrix and measured data tables.}
}
\value{
The input list with formatted "TREATMENTS" and measured data tables.
}
\description{
Cleans and standardizes the treatment matrix and related measured data tables within a list of data frames, ensuring numeric columns and removing extra string content.
}
\details{
The function processes the "TREATMENTS" data frame by:
\itemize{
\item Removing any content after a pipe (\code{|}) in character columns.
\item Trimming leading whitespace from all columns.
\item Replacing \code{NA} values in level columns (\code{genotype_level} to \code{mulch_level}) with 0.
\item Converting relevant columns to numeric type.
\item Ensuring \code{simulation_control_level} is numeric and defaults to 1 if missing.
}
It also processes measured data tables (those with names matching \code{TS_}, \code{SM_}, or \code{OBSERV_}) by cleaning and converting the \code{treatment_number} column.

The cleaned data frames replace the originals in the input list.

The function uses the \strong{dplyr} package for data manipulation.
}
\examples{
\dontrun{
ls <- format_treatment_str(ls)
}

}
