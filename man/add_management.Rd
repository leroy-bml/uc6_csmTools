% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/fit_cultivar_parameters.R
\name{add_management}
\alias{add_management}
\title{Add a New evemt to a DSSAT management section Table}
\usage{
add_management(
  xtables,
  section = c("initial_conditions", "planting", "tillage", "irrigation", "fertilizer",
    "organic_amendment", "chemicals", "harvest", "simulation_controls"),
  args = list()
)
}
\arguments{
\item{xtables}{A named list of tables (e.g., data frames), representing DSSAT management sections.}

\item{section}{Character. The management section to add to (e.g., "fertilizer", "irrigation", "planting", etc.).}

\item{args}{A named list of column values to update in the new management row.}
}
\value{
The input list with the updated management section table.
}
\description{
Adds a new management event (e.g., fertilizer, irrigation, tillage) to the appropriate section table
within a DSSAT management table list, creating the section if it does not exist.
}
\details{
The function identifies the appropriate section table in \code{xtables} (by prefix), or creates it if missing using a template. It prepares a new row with the specified arguments, coerces columns to the correct class, and assigns a new unique primary key. For sections with nested (list) columns, it handles class assignment and collapsing as needed. The new row is appended to the section table, which is then converted to a DSSAT table using \code{as_DSSAT_tbl}.

If a column specified in \code{args} does not exist in the section table, a warning is issued.
}
\examples{
\dontrun{
xtables <- add_management(xtables, section = "fertilizer", args = list(amount = 50, date = "2022-03-01"))
}

}
