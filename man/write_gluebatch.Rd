% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/fit_cultivar_parameters.R
\name{write_gluebatch}
\alias{write_gluebatch}
\title{Write a DSSAT Batch File for cultivar parameter calibration}
\usage{
write_gluebatch(xfile, trtno, rp, sq, op, co, ...)
}
\arguments{
\item{xfile}{Character vector. The X-file names (one per treatment).}

\item{trtno}{Integer vector. Treatment numbers.}

\item{rp}{Integer vector. Replication numbers.}

\item{sq}{Integer vector. Sequence numbers.}

\item{op}{Integer vector. Operation numbers.}

\item{co}{Integer vector. Code numbers.}

\item{...}{Additional arguments (not used directly).}
}
\value{
The name of the batch file written.
}
\description{
Generates and writes a DSSAT batch file for model calibration,
formatting the batch table and header according to DSSAT conventions.
}
\details{
The function constructs a batch table with the specified columns, formats the header and data lines according to DSSAT batch file requirements, and writes the result to a file. The batch file name and path are constructed using the \code{cultivar} and \code{crop_code} variables (which must be defined in the environment), and the output directory \code{dir_out}.

The function uses the \strong{glue}, \strong{dplyr}, and \strong{stringr} packages for string formatting and data manipulation.
}
\examples{
\dontrun{
write_gluebatch(
  xfile = c("EX001A.WHX", "EX001B.WHX"),
  trtno = 1:2,
  rp = c(1, 1),
  sq = c(1, 2),
  op = c(1, 1),
  co = c(1, 1)
)
}

}
