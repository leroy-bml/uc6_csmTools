% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/map_data2.R
\name{process_actions}
\alias{process_actions}
\title{Process a Series of Data Transformation Actions}
\usage{
process_actions(
  actions,
  source_vector,
  primary_header,
  found_column_name,
  full_input_df,
  target_spec,
  key_df,
  output_data
)
}
\arguments{
\item{actions}{A list where each element is a list defining a single action (e.g., with \code{type}, \code{value}, \code{formula} fields).}

\item{source_vector}{The primary data vector (a column) that most actions operate upon.}

\item{primary_header}{The canonical name of the source column.}

\item{found_column_name}{The actual column name found in the input data frame that corresponds to the \code{source_vector}.}

\item{full_input_df}{The complete source data frame, required for actions needing access to multiple columns.}

\item{target_spec}{A list defining the default output section for the results.}

\item{key_df}{A data frame of key columns (e.g., IDs) to be joined to the results to maintain data relationships. Can be \code{NULL}.}

\item{output_data}{The list object that accumulates all generated data frames.}
}
\value{
The updated \code{output_data} list containing data frames generated by all processed actions.
}
\description{
Acts as a dispatcher that iterates through a list of declarative actions, applying data transformations, mappings,
and routing logic based on each action's type.
}
\details{
This function is the core engine of a rule-based processing pipeline. It sequentially executes each action defined in
the \code{actions} list. The behavior is determined by the \code{action$type}.

The supported action types are:
\itemize{
\item \strong{\code{pass_through}}: Copies the \code{source_vector} or other specified columns directly to the output.
\item \strong{\code{map_values}}: Translates values from the \code{source_vector} using a key-value map defined in \code{action$map}.
\item \strong{\code{add_column}}: Creates a new column filled with a static value from \code{action$value}.
\item \strong{\code{add_column_conditional}}: Creates a new column, placing a value from \code{action$value} only where the \code{source_vector}
meets a specified condition.
\item \strong{\code{rowwise_transform}}: Applies a formula (\code{action$formula}) to one or more input columns to generate a new output column.
Uses \code{rlang} for evaluation.
\item \strong{\code{split_and_map_text}}: Parses a text vector (e.g., full names), splitting by a delimiter and extracting components like "first", "last",
or "middle" into separate output columns.
\item \strong{\code{conditional_routing}}: A meta-action that routes subsets of the input data to different target sections
based on conditions. It can apply sub-actions (\code{pass_through}, \code{map_values}, etc.) within each route. This
action updates \code{output_data} directly.
}

After each action, key columns from \code{key_df} are appended to the result before it is merged into the final \code{output_data} list.
}
